<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Conferidor Oficial - Bol√£o Vamos Ganhar!</title>
    <style>
        :root {
            --primary: #006633;
            --secondary: #28a745;
            --accent: #ffc107;
            --bg: #f4f7f6;
        }
        body { font-family: 'Segoe UI', Roboto, sans-serif; background: var(--bg); margin: 0; padding: 20px; }
        .container { max-width: 900px; margin: auto; background: white; padding: 30px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.1); }
        h1 { color: var(--primary); text-align: center; margin-bottom: 5px; }
        .subtitle { text-align: center; color: #666; margin-bottom: 30px; }
        
        /* Estilo dos inputs redondos */
        .draw-inputs { display: flex; justify-content: center; gap: 10px; margin-bottom: 30px; flex-wrap: wrap; }
        .draw-inputs input { width: 60px; height: 60px; text-align: center; font-size: 24px; font-weight: bold; border: 3px solid var(--primary); border-radius: 50%; outline: none; transition: 0.3s; }
        .draw-inputs input:focus { background: var(--primary); color: white; }

        textarea { width: 100%; height: 180px; border: 2px solid #ddd; border-radius: 12px; padding: 15px; font-family: monospace; font-size: 14px; box-sizing: border-box; transition: 0.3s; }
        textarea:focus { border-color: var(--primary); outline: none; }

        button { width: 100%; padding: 18px; background: var(--primary); color: white; border: none; border-radius: 12px; font-size: 20px; font-weight: bold; cursor: pointer; margin: 20px 0; transition: 0.3s; }
        button:hover { background: #004d26; transform: translateY(-2px); box-shadow: 0 5px 15px rgba(0,102,51,0.3); }

        /* Painel de Estat√≠sticas */
        .stats-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin-bottom: 30px; }
        .stat-card { padding: 20px; border-radius: 15px; text-align: center; color: white; border-bottom: 6px solid rgba(0,0,0,0.2); }
        .sena { background: var(--accent); color: #333; }
        .quina { background: #17a2b8; }
        .quadra { background: var(--secondary); }
        .stat-card span { font-size: 32px; display: block; font-weight: bold; }

        /* Lista de Resultados Positivos */
        .positive-results { margin-top: 20px; }
        .bet-row { background: #fff; border: 1px solid #eee; padding: 15px; border-radius: 10px; margin-bottom: 10px; display: flex; flex-direction: column; border-left: 8px solid #ccc; }
        .bet-row.win6 { border-left-color: var(--accent); background: #fffdf0; }
        .bet-row.win5 { border-left-color: #17a2b8; background: #f0f9ff; }
        .bet-row.win4 { border-left-color: var(--secondary); background: #f4fff6; }
        
        .number-ball { display: inline-block; width: 32px; height: 32px; line-height: 32px; text-align: center; border-radius: 50%; background: #eee; margin: 3px; font-weight: bold; font-size: 14px; }
        .hit { background: var(--primary); color: white; transform: scale(1.1); box-shadow: 0 2px 5px rgba(0,0,0,0.2); }
        
        .bet-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px; font-weight: bold; }
        .badge { padding: 5px 10px; border-radius: 5px; font-size: 12px; text-transform: uppercase; }
    </style>
</head>
<body>

<div class="container">
    <h1>Conferidor Mega Virada 2955</h1>
    <p class="subtitle">Bol√£o "Vamos Ganhar!" - Filtro Autom√°tico para Apostas de 7 N√∫meros</p>

    <div class="draw-inputs">
        <input type="number" id="n1" min="1" max="60" placeholder="00">
        <input type="number" id="n2" min="1" max="60" placeholder="00">
        <input type="number" id="n3" min="1" max="60" placeholder="00">
        <input type="number" id="n4" min="1" max="60" placeholder="00">
        <input type="number" id="n5" min="1" max="60" placeholder="00">
        <input type="number" id="n6" min="1" max="60" placeholder="00">
    </div>

    <p><strong>1. Cole o conte√∫do do PDF aqui:</strong></p>
    <textarea id="pdf_text" placeholder="Abra o PDF, pressione Ctrl+A para selecionar tudo, Ctrl+C para copiar e cole aqui (Ctrl+V)..."></textarea>
    
    <button onclick="checkBets()">ANALISAR APOSTAS POSITIVAS</button>

    <div class="stats-grid">
        <div class="stat-card sena">SENA<span id="res6">0</span></div>
        <div class="stat-card quina">QUINA<span id="res5">0</span></div>
        <div class="stat-card quadra">QUADRA<span id="res4">0</span></div>
    </div>

    <div id="results_area" class="positive-results">
        </div>
</div>

<script>
function checkBets() {
    const draw = [];
    for(let i=1; i<=6; i++) {
        const val = parseInt(document.getElementById('n'+i).value);
        if(!isNaN(val)) draw.push(val);
    }
    if(draw.length < 6) { alert("Por favor, preencha os 6 n√∫meros sorteados!"); return; }

    const text = document.getElementById('pdf_text').value;
    // Regex para encontrar o ID do jogo e os n√∫meros (considerando 7 dezenas)
    const regex = /(\d{4})\)\s*([\d\s\n]+?)(?=\s*\d{4}\)|$)/g;
    
    let m;
    let counts = { 6: 0, 5: 0, 4: 0 };
    let html = "<h2>üéØ Resultados Positivos:</h2>";
    let found = false;

    while ((m = regex.exec(text)) !== null) {
        const id = m[1];
        // Limpa o texto e extrai apenas as dezenas
        const nums = m[2].replace(/[^\d\s]/g, '').trim().split(/\s+/).map(Number).filter(n => n > 0 && n <= 60);

        if (nums.length >= 7) {
            const hits = nums.filter(n => draw.includes(n));
            const total = hits.length;

            if (total >= 4) {
                found = true;
                const winType = total >= 6 ? 6 : total;
                counts[winType]++;
                
                const typeName = total >= 6 ? "SENA" : (total === 5 ? "QUINA" : "QUADRA");
                const winClass = "win" + winType;

                let ballsHtml = "";
                nums.forEach(n => {
                    const isHit = draw.includes(n) ? "hit" : "";
                    ballsHtml += `<span class="number-ball ${isHit}">${n.toString().padStart(2, '0')}</span>`;
                });

                html += `
                <div class="bet-row ${winClass}">
                    <div class="bet-header">
                        <span>JOGO ${id}</span>
                        <span class="badge">${typeName} (${total} ACERTOS)</span>
                    </div>
                    <div>${ballsHtml}</div>
                </div>`;
            }
        }
    }

    document.getElementById('res6').innerText = counts[6];
    document.getElementById('res5').innerText = counts[5];
    document.getElementById('res4').innerText = counts[4];
    document.getElementById('results_area').innerHTML = found ? html : "<p style='text-align:center; color:#999;'>Nenhuma aposta positiva encontrada nesta busca.</p>";
}
</script>

</body>
</html>